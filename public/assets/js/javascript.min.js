$(document).ready(function(){$container=$("section#articles");limit=25;filter="*";$("li.all").hide();$("li.divider").hide();if(window.location.hash.length>1){filter="."+window.location.hash.substr(1);$.cookie("filter",filter,{expires:365});$("#filter li:not(.all) a").addClass("inactive");$("#filter li"+filter).find("a").removeClass("inactive")}else if($.cookie("filter")!==undefined){filter=$.cookie("filter").split(",");$("#filter li:not(.all) a").each(function(){filter.indexOf("."+$(this).parent().attr("class"))==-1&&$(this).addClass("inactive")});filter.length==1&&(window.location.hash=filter[0].substr(1));filter=filter.join(",")}$("section#articles a").attr("target","_blank");if($("#filter a.inactive").size()){$("li.all").show();$("li.divider").show()}$("#filter a").click(function(e){if($(this).parent().hasClass("all")){filter="*";$.removeCookie("filter");window.location.hash="";$("#filter a.inactive").removeClass("inactive")}else{if(e.altKey){$("#filter a").addClass("inactive");$(this).removeClass("inactive")}else{$(this).toggleClass("inactive");$("#filter a:not(.inactive)").size()||$("#filter a").removeClass("inactive")}filter=new Array;$("#filter a:not(.inactive)").each(function(){filter[filter.length]="."+$(this).parent().attr("class")});filter.length==1?window.location.hash=filter[0].substr(1):window.location.hash.length&&(window.location.hash="");filter=filter.join(",");$container.isotope({filter:filter});$.cookie("filter",filter,{expires:365})}if($("#filter a.inactive").size()){$("li.all").show();$("li.divider").show()}else{$("li.all").hide();$("li.divider").hide()}})});$(window).load(function(){$container.isotope({itemSelector:"article",layoutMode:"masonry",filter:filter}).removeClass("loading")});